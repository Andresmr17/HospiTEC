<div class="text-center">
  <h1>Crear un nuevo paciente</h1>
  <h1> </h1>
</div>

<div class="container" *ngIf="!createdPatient">
  <form (ngSubmit)="crearCuenta(Nombre, Apellido1, Apellido2, Cedula, Telefono, Direccion, Fecha)" #patientForm="ngForm">
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input type="text" class="form-control" id="Nombre" name="name" [(ngModel)]="Nombre" #nombre="ngModel" required>
    </div>
    <div class="form-group">
      <label for="lastName1">Primer apellido:</label>
      <input type="text" class="form-control" id="lastName1" name="lastName" required [(ngModel)]="Apellido1">
    </div>
    <div class="form-group">
      <label for="lastName2">Segundo apellido:</label>
      <input type="text" class="form-control" id="lastName2" name="lastName" required [(ngModel)]="Apellido2">
    </div>
    <div class="form-group">
      <label for="id">ID:</label>
      <input type="text" class="form-control" id="id" name="id" required [(ngModel)]="Cedula">
    </div>
    <div class="form-group">
      <label for="phone">Teléfono:</label>
      <input type="number" class="form-control" id="phone" name="phone" [(ngModel)]="Telefono">
    </div>
    <div class="form-group">
      <label for="address">Dirección:</label>
      <input type="text" class="form-control" id="address" name="address" [(ngModel)]="Direccion">
    </div>
    <div class="form-group">
      <label for="birthdate">Fecha de Nacimiento:</label>
      <input type="date" class="form-control" id="birthdate" name="birthdate" [(ngModel)]="Fecha">
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
  </form>
</div>

<div class="container" *ngIf="createdPatient">
  <h2>{{ Nombre}} {{ Apellido1}}</h2>
  <form (ngSubmit)="addPathologyAndTreatment(Cedula, selectedPathology, selectedTreatment)">
    <div class="form-group">
      <label for="pathology">Patología:</label>
      <select id="pathology" class="form-control" [(ngModel)]="selectedPathology" name="pathology" (change)="onPathologyChange($event)" required>
        <option *ngFor="let pathology of pathologies" [value]="pathology.nombrePatologia">{{ pathology.nombrePatologia }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="treatment">Tratamiento:</label>
      <select id="treatment" class="form-control" [(ngModel)]="selectedTreatment" name="treatment" required>
        <option *ngFor="let treatment of treatments" [value]="treatment.nombretratamiento">{{ treatment.nombretratamiento }}</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Agregar</button>
  </form>
  <button class="btn btn-secondary" (click)="finishAdding()">Terminar</button>
</div>

